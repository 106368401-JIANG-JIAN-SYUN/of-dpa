<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>OpenFlow Data Plane Abstraction (OF-DPA) API Guide and Reference Manual: Use Case Examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen_brcm.css" rel="stylesheet" type="text/css" />
<link href="tabs_brcm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenFlow Data Plane Abstraction (OF-DPA) API Guide and Reference Manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Welcome</span></a></li>
      <li class="current"><a href="pages.html"><span>OF-DPA&#160;Documentation</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Use Case Examples </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This section presents simple use cases that can be implemented using the provided Client Applications.</p>
<h1><a class="anchor" id="OFDPA_BRIDGING"></a>
Bridging</h1>
<p>The figure below illustrates a simple bridging configuration. Two stations are connected to ports 3 and 4 of the switch and packets are bridged in the switch for these stations to communicate. Station A sends and receives untagged traffic while Station B sends and receives tagged traffic.</p>
<div class="image">
<img src="bridging.jpg" alt="bridging.jpg"/>
<div class="caption">
Figure 3</div></div>
<p> Refer to the ofdpa_bridging.py script for an example of setting up this scenario.</p>
<h1><a class="anchor" id="OFDPA_IPv4_UNICAST_ROUTING"></a>
IPv4 Unicast Routing</h1>
<p>The figure below illustrates a simple IPv4 Unicast Routing configuration. Two stations are connected to ports 3 and 4 of the switch and packets are routed in the switch for these stations to communicate. The packets are routed between VLAN 10 and 11.</p>
<div class="image">
<img src="ipv4unicastrouting.jpg" alt="ipv4unicastrouting.jpg"/>
<div class="caption">
Figure 4</div></div>
<p> Refer to the ofdpa_routing.py script for an example of setting up this scenario.</p>
<h1><a class="anchor" id="OFDPA_VXLAN_EXAMPLE"></a>
VXLAN</h1>
<h2><a class="anchor" id="PURPOSE"></a>
Purpose</h2>
<p>The purpose of this example script is to demonstrate the use of OF-DPA switch to set up a VxLAN tunnel through the OpenDaylight controller.</p>
<h2><a class="anchor" id="TOPOLOGY"></a>
Topology</h2>
<div class="image">
<img src="vxlan_script_topology.jpg" alt="vxlan_script_topology.jpg"/>
<div class="caption">
Figure 5</div></div>
<p> The topology setup consists of a Switch running OF-DPA connected to a host. The switch acts as a VxLAN gateway and accepts incoming packets on VLAN 20 and puts them in a VxLAN tunnel. It also serves as Virtual Tunnel End Point and removes the tunnel specific information from the incoming traffic before forwarding it to the host. The host with MAC address of (0000.0000.0011) connects via port 1 to the switch. The neighboring router is connected to the switch via port 5.</p>
<h2><a class="anchor" id="SETUP"></a>
Setup</h2>
<p>On the switch side start the ofagent application </p><div class="fragment"><div class="line">./ofagentapp -t 10.18.20.219:6633 &amp;</div>
</div><!-- fragment --><p> Install VXLAN tunnel configuration OpenDaylight controller set up The OpenDaylight version we tried is SR3 Helium. Install OpenDaylight </p><div class="fragment"><div class="line">tar xf distribution-karaf-0.2.3-Helium-SR3.tar.gz</div>
</div><!-- fragment --><p> Start the karaf executable </p><div class="fragment"><div class="line">cd /distribution-karaf-0.2.3-Helium-SR3/bin</div>
<div class="line">./karaf</div>
<div class="line"></div>
<div class="line">    ________                       ________                .__  .__       .__     __</div>
<div class="line">    \_____  \ ______   ____   ____ \______ \ _____  ___.__.|  | |__| ____ |  |___/  |_</div>
<div class="line">     /   |   \\____ \_/ __ \ /    \ |    |  \\__  \&lt;   |  ||  | |  |/ ___\|  |  \   __\</div>
<div class="line">    /    |    \  |_&gt; &gt;  ___/|   |  \|    `   \/ __ \\___  ||  |_|  / /_/  &gt;   Y  \  |</div>
<div class="line">    \_______  /   __/ \___  &gt;___|  /_______  (____  / ____||____/__\___  /|___|  /__|</div>
<div class="line">            \/|__|        \/     \/        \/     \/\/            /_____/      \/</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">Hit <span class="stringliteral">&#39;&lt;tab&gt;&#39;</span> <span class="keywordflow">for</span> a list of available commands</div>
<div class="line">and <span class="stringliteral">&#39;[cmd] --help&#39;</span> <span class="keywordflow">for</span> help on a specific command.</div>
<div class="line">Hit <span class="stringliteral">&#39;&lt;ctrl-d&gt;&#39;</span> or type <span class="stringliteral">&#39;system:shutdown&#39;</span> or <span class="stringliteral">&#39;logout&#39;</span> to shutdown OpenDaylight.</div>
</div><!-- fragment --><p>Install features necessary </p><div class="fragment"><div class="line">opendaylight-user@root&gt; feature:install odl-l2switch-all odl-restconf-all odl-mdsal-all odl-openflowplugin-all odl-adsal-compatibility-all odl-nsf-all</div>
</div><!-- fragment --><p>Exit out of Karaf </p><div class="fragment"><div class="line">Open ../etc/opendaylight/karaf/54-arphandler.xml file and change the is-proactive-flood-mode to <span class="keyword">false</span>.   &lt;is-proactive-flood-mode&gt;<span class="keyword">false</span>&lt;/is-proactive-flood-mode&gt;</div>
</div><!-- fragment --><p>Start Karaf again </p><div class="fragment"><div class="line">./karaf</div>
</div><!-- fragment --><p>Run the file ./vxlan_odl_demo.sh </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<!--BEGIN GENERATE_TREEVIEW -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
<hr>
<p>
<table class="footer-brcm">
	<tr>
		<td class="footer-brcm"><img src="BRCM_Red+Black_noTag_RGB.png" align=left></td>
		<td class="footer-brcm"><small><b>&copy;  2016 by Broadcom Corporation. All rights reserved.</b></small>
			<div class="footer-brcm"><small>Broadcom Corporation reserves the right to make changes without further notice to any products or data herein to improve reliability, function, or design.
Information furnished by Broadcom Corporation is believed to be accurate and reliable. However, Broadcom Corporation does not assume any liability arising
out of the application or use of this information, nor the application or use of any product or circuit described herein, neither does it convey any license
under its patent rights nor the rights of others. </small>
			</div>
		</td>
	</tr>
</table>
</p>
</div>
<!--END GENERATE_TREEVIEW-->
</body>
</html>
