<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenFlow Data Plane Abstraction (OF-DPA) API Guide and Reference Manual: Use Case Examples</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenFlow Data Plane Abstraction (OF-DPA) API Guide and Reference Manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Welcome</span></a></li>
      <li class="current"><a href="../../pages.html"><span>OF-DPA&#160;Documentation</span></a></li>
      <li><a href="../../modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Use Case Examples </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This section presents simple use cases that can be implemented using the provided Client Applications.</p>
<h1><a class="anchor" id="OFDPA_BRIDGING"></a>
Bridging</h1>
<p>The figure below illustrates a simple bridging configuration. Two stations are connected to ports 3 and 4 of the switch and packets are bridged in the switch for these stations to communicate. Station A sends and receives untagged traffic while Station B sends and receives tagged traffic.</p>
<div class="image">
<img src="../../bridging.jpg" alt="bridging.jpg"/>
<div class="caption">
Figure 3</div></div>
<p> For traffic from station A to B.</p>
<ul>
<li>Add interface 3 in VLAN 10.<ul>
<li># ./client_vlan --intf=3 --vlan=0x100a --mask=0x1fff </li>
</ul>
</li>
<li>Set VLAN 10 as the default VLAN on interface 3. This will classify an untagged packet received on this interface on VLAN 10.<ul>
<li># ./client_vlan --intf=3 --vlan=0 --mask=0x0fff --newvlan=10</li>
</ul>
</li>
</ul>
<ul>
<li>Create L2 interface group on interface 4 and vlan 10 with pop vlan as 0 to send tagged packet.<ul>
<li># ./client_group --groupid=0xa0004</li>
<li># ./client_group --groupid=0xa0004 --l2intfbktid=0 --outport=4 --popvlan=0</li>
</ul>
</li>
</ul>
<ul>
<li>Create a bridging entry referring the created L2 interface group. This creates an L2 entry for the given MAC on interface 4 on VLAN 10.<ul>
<li># ./client_bridging --group=0xa0004 --dstmac=00:00:00:00:00:02 --vlan=10</li>
</ul>
</li>
</ul>
<p>For traffic from station B to A.</p>
<ul>
<li>Add interface 4 in VLAN 10.<ul>
<li># - # ./client_vlan --intf=4 --vlan=0x100a --mask=0x1fff</li>
</ul>
</li>
</ul>
<ul>
<li>Create L2 interface group on interface 3 and vlan 10 with pop vlan as 1 to send untagged packet.<ul>
<li># ./client_group --groupid=0xa0003</li>
<li># ./client_group --groupid=0xa0003 --l2intfbktid=0 --outport=3 --popvlan=1</li>
</ul>
</li>
</ul>
<ul>
<li>Create a bridging entry referring the created L2 interface group. This creates an L2 entry on for the given MAC interface 3 on VLAN 10.<ul>
<li># ./client_bridging --group=0xa0003 --dstmac=00:00:00:00:00:01 --vlan=10</li>
</ul>
</li>
</ul>
<p>This configures the switching path between stations A and B.</p>
<h1><a class="anchor" id="OFDPA_IPv4_UNICAST_ROUTING"></a>
IPv4 Unicast Routing</h1>
<p>The figure below illustrates a simple IPv4 Unicast Routing configuration. Two stations are connected to ports 3 and 4 of the switch and packets are routed in the switch for these stations to communicate. The packets are routed between VLAN 10 and 11.</p>
<div class="image">
<img src="../../ipv4unicastrouting.jpg" alt="ipv4unicastrouting.jpg"/>
<div class="caption">
Figure 4</div></div>
 <ul>
<li>Add interface 3 to vlan 10<ul>
<li># ./client_vlan --intf=3 --vlan=0x100a --mask=0x1fff</li>
</ul>
</li>
</ul>
<ul>
<li>Add interface 4 to vlan 11<ul>
<li># ./client_vlan --intf=4 --vlan=0x100b --mask=0x1fff</li>
</ul>
</li>
</ul>
<ul>
<li>Create Termination MAC flow on the ingress port on vlan 10. Termination MAC flow decides whether to switch or route a packet. 00:01:02:03:04:05 is the Router MAC.<ul>
<li># ./client_termmac --intf=3 --vlan=10 --dstmac=00:01:02:03:04:05</li>
</ul>
</li>
</ul>
<ul>
<li>Create Termination MAC flow on the ingress port on vlan 11<ul>
<li># ./client_termmac --intf=4 --vlan=11 --dstmac=00:01:02:03:04:05</li>
</ul>
</li>
</ul>
<ul>
<li>Create an L2 interface group on port 3 vlan 10<ul>
<li># ./client_group --groupid=0xa0003</li>
<li># ./client_group --groupid=0xa0003 --l2intfbktid=0 --outport=3 --popvlan=0</li>
</ul>
</li>
</ul>
<ul>
<li>Create and L3 unicast group with reference group as L2 interface group<ul>
<li># ./client_group --groupid=0x20000002</li>
<li># ./client_group --groupid=0x20000002 --l3ucastbktid=0 --l3ucastdstMac=00:00:00:00:00:01 --l3ucastsrcMac=00:01:02:03:04:05 --l3ucastrefGID=0xa0003 --l3ucastvlanId=11</li>
</ul>
</li>
</ul>
<ul>
<li>Create an L2 interface group on port 4 vlan 11<ul>
<li># ./client_group --groupid=0xb0004</li>
<li># ./client_group --groupid=0xb0004 --l2intfbktid=0 --outport=4 --popvlan=0</li>
</ul>
</li>
</ul>
<ul>
<li>Create and L3 unicast group with reference group as L2 interface group<ul>
<li># ./client_group --groupid=0x20000001</li>
<li># ./client_group --groupid=0x20000001 --l3ucastbktid=0 --l3ucastdstMac=00:00:00:00:00:02 --l3ucastsrcMac=00:01:02:03:04:05 --l3ucastrefGID=0xb0004 --l3ucastvlanId=11</li>
</ul>
</li>
</ul>
<ul>
<li>Create a Routing flow<ul>
<li># ./client_routing --dstip4=192.168.5.1 --ether=0x0800 --prefix=32 --vlan=11 --setgroup=0x20000001</li>
<li># ./client_routing --dstip4=192.168.6.1 --ether=0x0800 --prefix=32 --vlan=10 --setgroup=0x20000002</li>
</ul>
</li>
</ul>
<p>This configures the Routing path between stations A and B. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 22 2014 17:34:37 for OpenFlow Data Plane Abstraction (OF-DPA) API Guide and Reference Manual by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
